// Load environment variables from the .env file
require('dotenv').config();

// Load the knexfile from the project root
const knexConfig = require('../knexfile');

// Determine which environment config to use
// Elastic Beanstalk sets NODE_ENV=production
const environment = process.env.NODE_ENV || 'development';

// Create Knex instance with the correct environmentâ€™s settings
const knex = require('knex')(knexConfig[environment]);

// Export the configured Knex instance so models can run queries
module.exports = knex;



